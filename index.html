<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/styles.css" rel="stylesheet" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/26ad666367.js" crossorigin="anonymous"></script>
    <title>Home</title>
</head>
<body>
    <nav class="navbar">
        <li><img class="logo" src="./imgs/logo.png"></li>
    </nav>

    <div class="container">

        <nav class="menu">
            <a href="./index.html"><i class="fa-solid fa-house"> </i> Home</a>
            <a href="./lista.html"><i class="fa-solid fa-address-card"> </i> Listar</a>
            <a href="./procurar.html"><i class="fa-solid fa-magnifying-glass"> </i> Procurar</a>
            <a href="./sobrenos.html"><i class="fa-solid fa-users"> </i> About us</a>
        </nav>

        <main>
            <h1><i class="fa-solid fa-plus icon"></i> Inserir funcionário</h1>
            <form class="form">
                <label for="name">Nome</label>
                    <input name="name" type="text" placeholder="Insira o nome">
                <label for="salary">Salário</label>
                    <input name="salary" type="number" placeholder="Insira o valor">
                    <label for="approved">Estado</label>
                    <input id="checkbox" name="approved" type="checkbox">
                <button type="submit">Submeter</button>
            </form>
        </main>
    </div>

    <script>
        const formEl = document.querySelector('.form');

        formEl.addEventListener('submit', event => {
            event.preventDefault();

            const formData = new FormData(formEl);
            const data = Object.fromEntries(formData);

            data.approved = document.getElementById('checkbox').checked;
            console.log(data.approved);

            fetch('http://localhost:3000/person', {
                method: 'POST',
                headers:{
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            }).then(res => res.json())
              .then(data => console.log(data))
              .catch(error => console.log(error));
        });
    </script>
</body>
</html>